a <- 1
b <- 2
a > b
v <- c(1,2,3)
5 %in% v
combatsc <- readRDS("~/Downloads/combat.rds")
View(combatsc)
names(assays(combatsc))=c("logcounts","counts")
sc_combat <- as.Seurat(combatsc)
library(Seurat)
sc_combat <- as.Seurat(combatsc)
# قراءة البيانات من رابط خارجي
url <- "https://raw.githubusercontent.com/Dalah-Info/health-info-bioinformatics-r/refs/heads/main/metadata/breast_tumor_metadata.csv"
Breast_tumor_metadata <- read.csv(url)
# استكشاف البيانات عن طريق عرض أول 6 صفوف من البيانات
head(Breast_tumor_metadata)
unique(Breast_tumor_metadata$new_tumor_event_after_initial_treatment)
unique(Breast_tumor_metadata$radiation_therapy)
unique(Breast_tumor_metadata$histological_type)
unique(Breast_tumor_metadata$pathologic_stage)
# حساب عدد الأعمدة (عدد المتغيرات أو الخصائص التي لدينا عن المرضى)
print(paste("Number of clinical data:", ncol(Breast_tumor_metadata)))
# حساب عدد الصفوف (عدد المرضى في قاعدة البيانات)
print(paste("Number of patients:", nrow(Breast_tumor_metadata)))
skimr::skim(Breast_tumor_metadata)
# أعمدة لا تحتوي على قيم
Breast_tumor_metadata$primary_therapy_outcome_success <- NULL
Breast_tumor_metadata$eastern_cancer_oncology_group <- NULL
Breast_tumor_metadata$residual_tumor <- NULL
Breast_tumor_metadata$tumor_thickness <- NULL
#عمود يحتوي على قيمة واحدة فقط لكل المرضي (لا يعطي أي معلومة)
Breast_tumor_metadata$days_to_initial_pathologic_diagnosis <- NULL
# عرض عدد الأعمدة المتبقية بعد إزالة الأعمدة غير المفيدة
print(paste("Number of clinical data:", ncol(Breast_tumor_metadata)))
# عرض أسماء الأعمدة الموجودة في البيانات بعد التنظيف
colnames(Breast_tumor_metadata)
# إنشاء جدول لعدد المرضى حسب الجنس
table_gender <- table(Breast_tumor_metadata$gender)
# رسم بياني يوضح توزيع الجنس
barplot(table_gender,
main = "Gender distribution of breast tumor cases", # عنوان الرسم
ylab = "Count",                                     # تسمية المحور الرأسي
col = c("pink", "lightblue"))                       # ألوان للأعمدة
# إنشاء جدول لعدد المرضى حسب الجنس
table_gender <- table(Breast_tumor_metadata$gender)
table_gender
# رسم بياني يوضح توزيع الجنس
barplot(table_gender,
main = "Gender distribution of breast tumor cases", # عنوان الرسم
ylab = "Count",                                     # تسمية المحور الرأسي
col = c("pink", "lightblue"))                       # ألوان للأعمدة
# إنشاء جدول لمراحل السرطان (Stage I, II, III, IV)
# مع ترتيبها تنازليًا (الأكثر شيوعًا أولًا)
table_stage <- sort(table(Breast_tumor_metadata$pathologic_stage), decreasing = TRUE)
# تحويل الجدول إلى إطار بيانات
df_stage <- as.data.frame(table_stage)
View(df_stage)
# إعادة تسمية الأعمدة لتكون أوضح
names(df_stage) <- c("Stage","Count")
View(df_stage)
# رسم بياني باستخدام ggplot يوضح توزيع المرضى حسب المرحلة المرضية
ggplot(df_stage, aes(x = reorder(Stage, Count), y = Count)) +  #x = ترتيب المراحل حسب عدد المرضى | y =  عدد المرضى في كل مرحلة
geom_col(fill = "skyblue") +                                # أعمدة ملونة باللون الأزرق
coord_flip() +                                              # قلب الرسم (الأعمدة أفقية)
labs(title = "Pathologic stage", x = NULL, y = "Count") +   # عنوان الرسم وتسمية المحاور
theme_minimal() +                                           # شكل مبسط (ثيم) للرسم
theme(axis.text.y = element_text(size = 9))                 # حجم النص على المحور
library(ggplot2)
# رسم بياني باستخدام ggplot يوضح توزيع المرضى حسب المرحلة المرضية
ggplot(df_stage, aes(x = reorder(Stage, Count), y = Count)) +  #x = ترتيب المراحل حسب عدد المرضى | y =  عدد المرضى في كل مرحلة
geom_col(fill = "skyblue") +                                # أعمدة ملونة باللون الأزرق
coord_flip() +                                              # قلب الرسم (الأعمدة أفقية)
labs(title = "Pathologic stage", x = NULL, y = "Count") +   # عنوان الرسم وتسمية المحاور
theme_minimal() +                                           # شكل مبسط (ثيم) للرسم
theme(axis.text.y = element_text(size = 9))                 # حجم النص على المحور
# إنشاء جدول لمراحل السرطان (Stage I, II, III, IV)
# مع ترتيبها تنازليًا (الأكثر شيوعًا أولًا)
table_stage <- sort(table(Breast_tumor_metadata$pathologic_stage), decreasing = TRUE)
typeof(table_stage)
table_stage
setwd("~/Downloads/health-info-bioinformatics-r/Day1")
setwd("~/Downloads/health-info-bioinformatics-r/Day1")
# إذا أردت تثبيت حزم من Bioconductor (لمجالات البيوانفورماتكس):
#if (!requireNamespace("BiocManager", quietly = TRUE))
#    install.packages("BiocManager")
#BiocManager::install("maftools")
```
library(maftools)
library(dplyr)
library(skimr)
library(tidyverse)
library(ggplot2)
library(maftools)
library(dplyr)
library(skimr)
library(tidyverse)
library(ggplot2)
library(maftools)
library(dplyr)
library(skimr)
library(tidyverse)
library(ggplot2)
url <- "https://raw.githubusercontent.com/Dalah-Info/health-info-bioinformatics-r/refs/heads/main/metadata/breast_tumor_metadata.csv"
Breast_tumor_metadata <- read.csv(url)
# استكشاف البيانات عن طريق عرض أول 6 صفوف من البيانات
head(Breast_tumor_metadata)
# قراءة البيانات من رابط خارجي
url <- "https://raw.githubusercontent.com/Dalah-Info/health-info-bioinformatics-r/refs/heads/main/metadata/breast_tumor_metadata.csv"
Breast_tumor_metadata <- read.csv(url)
# استكشاف البيانات عن طريق عرض أول 6 صفوف من البيانات
head(Breast_tumor_metadata)
# حساب عدد الأعمدة (عدد المتغيرات أو الخصائص التي لدينا عن المرضى)
print(paste("Number of clinical data:", ncol(Breast_tumor_metadata)))
# حساب عدد الصفوف (عدد المرضى في قاعدة البيانات)
print(paste("Number of patients:", nrow(Breast_tumor_metadata)))
skimr::skim(Breast_tumor_metadata)
# أعمدة لا تحتوي على قيم
Breast_tumor_metadata$primary_therapy_outcome_success <- NULL
Breast_tumor_metadata$eastern_cancer_oncology_group <- NULL
Breast_tumor_metadata$residual_tumor <- NULL
Breast_tumor_metadata$tumor_thickness <- NULL
#عمود يحتوي على قيمة واحدة فقط لكل المرضي (لا يعطي أي معلومة)
Breast_tumor_metadata$days_to_initial_pathologic_diagnosis <- NULL
# عرض عدد الأعمدة المتبقية بعد إزالة الأعمدة غير المفيدة
print(paste("Number of clinical data:", ncol(Breast_tumor_metadata)))
# عرض أسماء الأعمدة الموجودة في البيانات بعد التنظيف
colnames(Breast_tumor_metadata)
# إنشاء جدول لعدد المرضى حسب الجنس
table_gender <- table(Breast_tumor_metadata$gender)
table_gender
# إنشاء جدول لعدد المرضى حسب الجنس
table_gender <- table(Breast_tumor_metadata$gender)
table_gender
# رسم بياني يوضح توزيع الجنس
barplot(table_gender,
main = "Gender distribution of breast tumor cases", # عنوان الرسم
ylab = "Count",                                     # تسمية المحور الرأسي
col = c("pink", "lightblue"))                       # ألوان للأعمدة
# إنشاء جدول  لعدد المرضى حسب الحالة الحيوية (حي أو متوفى)
table_vital_status <- table(Breast_tumor_metadata$vital_status)
table_vital_status
# رسم بياني يوضح عدد المرضى الأحياء مقابل المتوفين
barplot(table_vital_status,
main = "Vital status of patients",# عنوان الرسم
ylab = "Count",                   # تسمية المحور الرأسي (عدد المرضى)
col = c("lightgreen", "tomato"))  # أخضر = حي، أحمر = متوفى
# إنشاء جدول  لعدد المرضى حسب الحالة الحيوية (حي أو متوفى)
table_vital_status <- table(Breast_tumor_metadata$vital_status)
table_vital_status
# رسم بياني يوضح عدد المرضى الأحياء مقابل المتوفين
barplot(table_vital_status,
main = "Vital status of patients",# عنوان الرسم
ylab = "Count",                   # تسمية المحور الرأسي (عدد المرضى)
col = c("lightgreen", "tomato"))  # أخضر = حي، أحمر = متوفى
# إنشاء جدول لعدد الحالات التي ظهر لديها ورم جديد بعد العلاج الأولي
table_event <- table(Breast_tumor_metadata$new_tumor_event_after_initial_treatment)
# رسم بياني يوضح عدد الحالات مع/بدون ورم جديد
barplot(table_event,
main = "New tumor event after initial treatment",   # عنوان الرسم
ylab = "Count",                                     # تسمية المحور الرأسي
col = c("gray70", "gray90", "lightblue", "tomato"), # ألوان للأعمدة
las = 2)                                           # تدوير أسماء التصنيفات لسهولة القراءة
# إنشاء جدول  يوضح عدد المرضى الذين تلقوا/لم يتلقوا علاج إشعاعي
table_radiation <- table(Breast_tumor_metadata$radiation_therapy)
# رسم بياني يوضح حالة العلاج الإشعاعي
barplot(table_radiation,
main = "Radiation therapy status",                             # عنوان الرسم
ylab = "Count",                                                # تسمية المحور الرأسي
col = c("orange", "gray70", "gray90", "lightblue", "tomato"),  # ألوان مختلفة للتصنيفات
las = 2)                                                       # تدوير النصوص لسهولة القراءة
# إنشاء جدول للأنواع النسيجية المختلفة للأورام
# مع ترتيبها تنازليًا (الأكثر شيوعًا أولًا)
table_hist <- sort(table(Breast_tumor_metadata$histological_type), decreasing = TRUE)
# تحويل الجدول إلى إطار بيانات (DataFrame) حتى نستطيع استخدام ggplot
df_hist <- as.data.frame(table_hist)
df_hist
# رسم بياني باستخدام ggplot يوضح الأنواع النسيجية للأورام
ggplot(df_hist, aes(x = Var1, y = Freq)) +            #x = أسماء الأنواع النسيجية، y = عدد الحالات لكل نوع
geom_col(fill = "skyblue") +                        # أعمدة ملونة باللون الأزرق
coord_flip() +                                      # قلب الرسم (الأعمدة أفقية بدل رأسية)
labs(title = "Histological types of breast tumors", # عنوان الرسم
x = "Histological type", y = "Count") +        # تسمية المحور الرأسي و الأفقي
theme_minimal() +                                   # شكل مبسط (ثيم) للرسم
theme(axis.text.y = element_text(size = 8))         # تصغير حجم النص على المحور
# إنشاء جدول لمراحل السرطان (Stage I, II, III, IV)
# مع ترتيبها تنازليًا (الأكثر شيوعًا أولًا)
table_stage <- sort(table(Breast_tumor_metadata$pathologic_stage), decreasing = TRUE)
table_stage
# تحويل الجدول إلى إطار بيانات
df_stage <- as.data.frame(table_stage)
df_stage
# إنشاء جدول لمراحل السرطان (Stage I, II, III, IV)
# مع ترتيبها تنازليًا (الأكثر شيوعًا أولًا)
table_stage <- sort(table(Breast_tumor_metadata$pathologic_stage), decreasing = TRUE)
table_stage
# تحويل الجدول إلى إطار بيانات
df_stage <- as.data.frame(table_stage)
df_stage
# إعادة تسمية الأعمدة لتكون أوضح
names(df_stage) <- c("Stage","Count")
# رسم بياني باستخدام ggplot يوضح توزيع المرضى حسب المرحلة المرضية
ggplot(df_stage, aes(x = reorder(Stage, Count), y = Count)) +  #x = ترتيب المراحل حسب عدد المرضى | y =  عدد المرضى في كل مرحلة
geom_col(fill = "skyblue") +                                # أعمدة ملونة باللون الأزرق
coord_flip() +                                              # قلب الرسم (الأعمدة أفقية)
labs(title = "Pathologic stage", x = NULL, y = "Count") +   # عنوان الرسم وتسمية المحاور
theme_minimal() +                                           # شكل مبسط (ثيم) للرسم
theme(axis.text.y = element_text(size = 9))                 # حجم النص على المحور
write.csv(Breast_tumor_metadata, "Breast_tumor_metadata_cleaned.csv")
